
\documentclass[12pt]{article} 
\usepackage[utf8]{inputenc}
\usepackage[slovak]{babel}
\usepackage[hidelinks,unicode = true]{hyperref}
\usepackage{outline}
\usepackage{graphicx}
%\usepackage{biblatex}
%\addbibresource{literatura.bib}
\usepackage{cite}
\usepackage{caption}
%\usepackage{float} %upevneni tabulky
%\restylefloat{table}
\setcounter{secnumdepth}{3}
\setcounter{tocdepth}{3}

%===========================================================================
\begin{document}           % Konec preambule a zároveň začátek vlastního textu
\begin{titlepage}
\centering
\Large \textbf{České vysoké učení technické v Praze }\\ Fakulta stavební
\vspace{2cm}

\begin{figure}[h!] %logoCVUT
\centering
\includegraphics[width=7cm]{./img/cvut.png}
\end{figure}
 
\Large \textbf{155ADKG Algoritmy v digitální kartografii}
\vspace{1cm}

\LARGE  \textbf{ Konvexné obálky a ich konštrukcie}
\vspace{3cm}

\Large Bc. Lukáš Kettner Bc. Martin Hulín \\ 5.11.2019

 \thispagestyle{empty} %neočísluje první stránku
\end{titlepage}

\tableofcontents    % vytváří  Obsah 
\newpage %začne na nové stránce
%------------------------------------------------------------------------
\section{Zadanie}
Vytvorte aplikáciu s grafickým rozhraním, ktorá vygeneruje konvexnú obálku podľa zvoleného typu algoritmu. Vstup do aplikácie : množina bodov  \{p1, …, pn\} . Výstup aplikácie : konvexná obálka  \textit{H}(P).

Nad množinou   \textit{P} implementujte nasledujúce algoritmy pre konštrukciu \textit{H}(P).

\begin{itemize}
\item Jarvis Scan
\item Quick Hull
\item Sweep Line
\end{itemize}
		
Vstupné množiny vrátane vygenerovaných konvexných obálok vhodne vizualizujte. Vytvorte grafy pre množiny n $\in$ $\langle$ 1000, 1000 000 $\rangle$ ilustrujúce doby behu algoritmu. Meranie prevádzajte pre rôzne typy množín opakovane 10x a uvedťe rozptyl. Namerané údaje usporiadajte do tabuliek.

Taktiež sa zamyslite nad problémom singularít pre rôzne typy vstupných množín a nad možnými optimalizáciami. Zhodnoťte dosiahnuté výsledky. Rozhodnite, ktorá z týchto metód je vzhľadom na časovú náročnosť a typ vstupnej množiny najvhodnejšia.

\subsection{Bonusové úlohy}
V rámci úlohy sú vypracované tieto bonusové úlohy

\begin{itemize}
\item Konštrukcia konvexnej obálky metódou Graham Scan.
\item Ošetrenie singulárneho prípadu pro Jarvis Scan
\item Konštrukcia striktne konvexných obálok
\item Algoritmus pre automatické generovanie konvexných / nekonvexných množín

\end{itemize}
%------------------------------------------------------------------------
\clearpage 
\section{Popis a rozbor problému}
Konvexná obálka je skupina bodov, ktorých spojením vznikne ohraničenie pre všetky ostatné body množiny. Pre konvexnú obálku platí : 

\begin{itemize}
\item žiadny bod vstupnej množiny \textit{P} neleží mimo ohraničenia konvexnej obálky.
\item všetky spojnice bodovvstupnej množiny \textit{P} ležia vnútri konvexnej obálky alebo tvoria jej ohraničenie.
\item všetky vnútorné uhly medzi susednými segmentami konvexnej obálky sú menšie ako 180 stupňov.
\end{itemize}

\begin{center}
   \includegraphics[width=12cm]{./img/ch_obrazok1.png}
   \captionof{figure}{Princíp konvexnej obálky}
\end{center}

Konvexnú obálku je možné zostrojiť viacerými metódami. V rámci našej práce sme zostrojili algoritmus Jarvis Scan, Quick Hull, Sweep Line a Graham scan.

%------------------------------------------------------------------------
\clearpage 
\section {Popis použitých algoritmov}
\subsection {Jarvis Scan}
Tento algoritmus predstavuje jeden z najpoužívanejích postupov pre tvorbu konvexnej obálky. V algoritme sa zavádza kritérium maximálneho uhlu ($\omega_{max}$). Pri tomto kritériu posudzujeme uhol medzi poslednou stranou konvexnej obálky a úsečkou posledný bod obálky - aktuálny bod. Kritérium hladá taký aktuálny bod, pre ktorý je uhol ($\omega$) maximálny. 
Postup je nasledovný. V prvom kroku vyberieme pivot q so súradnicou $y_{min}$, tento bod je automaticky súčasťou konvexnej obálky. Zavádzame kritérium maximálneho uhlu ($\omega_{max}$). Keď nájdeme bod odpovedajúci kritériu, prídáme takýto bod do konvexnej obálky. Algoritmus končí v momente keď sa dostaneme opäť k pivotu q. 

\subsubsection {Implementácia metódy}
\begin{enumerate}
\item Nájdi pivot q. Zoraď body podľa súradnice y. $ q : y_{min}$
\item Do konvexnej obálky pridaj $q$
\item Inicializuj  $p_{j-1} \in X, p_j = q, p_{j+1} = p_{j-1}$
\item Opakuj pokial $p_{j+1} != q$
\item \hspace {1.5cm} Nájdenie bodu pre ktorý je uhol omega maximálny $p_{j+1} = argmax \ p_i \in P \angle(p_{j-1}, p_j, p_i)$
\item \hspace {1.5cm} Pridaj nájdený bod  $p_{j+1}$ do konvexnej obálky
\item \hspace {1.5cm} Inicializuj $p_{j-1} = p_j , p_j = p_{j+1}$ 
\end{enumerate}

\subsubsection {Problematické situácie}
Problematickou situáciou sú vyskytujúce sa kolineárne body. V takomto prípade je potrebné ošetriť aby sa do konvexnej obálky dostal najvzdialenejší bod.

\subsubsection {Implementácia riešenia problému}
\begin{enumerate}
\item Cyklus $ for (int h = 0 ; h < ch.size() - 1; h++)$ - prechádame všetky body konvexnej obálky
\item \hspace {1.5cm}  Podmienka totožných súradníc 
\newline  $ if ((ch[h].x() == ch[h+1].x( )) \&\& (ch[h].y() == ch[h+1].y( ) $
\item \hspace {1.5cm} Odstráň  bod s totožnými súradnicami $ ch.remove(h) $
\item \hspace {1.5cm} $h--$
\end{enumerate}

\subsection {Quick Hull}
Tento algoritmus uplatňuje pri konštrukcii konvexnej obálky princím rozdeľuj a panuj. Jedná sa rekurzívny algoritmus. Skladá sa z lokálnej a globálnej procedúry. Konvexná obálke je skonštruovaná z dvoch častí - upper hull a lower hull. Deliacou priamkou je spojnica dvoch bodov s extrémnymi súradnicami x (minimum, maximum). S oboma časťami obálky sa počas výpočtu pracuje samostatne. Algoritmus hľadá bod s extrémnymi súradnicami v ose y, samostatne pre hornú a dolnú časť. Výsledná konvexná obálka je pri zachovaní CCW orientácie zložená z dvoch častí automaticky, bez nutnosti spájania.

\subsubsection{Implementácia metódy}
\begin{enumerate}
\item Vytvor mnošinu konvexnej obálky, vektor vrchných \textit{upoints} a spodných bodov \textit{lpoints}
\item Zoraď vstupnú množinu bodov podľa súradnice X
\item Nájdi body $q_1$ , $q_3$  s extrémnymi súradnicami X 
\item  \hspace {1.5cm} Pridaj $q_1$ , $q_3$ do \textit{upoints} a \textit{lpoints}
\item Rozdeľ všetky body vstupnej množiny podľa kritéria do \textit{upoints} alebo \textit{lpoints}
\item Do konvexnej obálky pridaj bod $q_3$
\item  \hspace {1.5cm} Volaj rekurzívnu funkciu - nájde najvzdialenejší bod v \textit{upoints}
\item  \hspace {1.5cm} Pridaj tento bod do konvexnej obálky
\item Do konvexnej obálky pridaj bod $q_1$
\item  \hspace {1.5cm} Volaj rekurzívnu funkciu - nájde najvzdialenejší bod v \textit{lpoints}
\item  \hspace {1.5cm} Pridaj tento bod do konvexnej obálky
\item  Vráť konvexnú obálku.
\end{enumerate}

\subsection {Sweep Line}
Jedná sa o metódu zametacej priamky. Tento algoritmus pracuje na princípe prepisovania pozície predchodcu a následníka i-teho bodu. Popis algoritmu slovne je miestami zložité pochopiť a pri jeho prezentácii pred osobou mimo obor by sme mohli skončiť na psychiatrii. Implemntácia metódy jednoduchšie zobrazí jej fungovanie.

\subsubsection{Implementácia metódy}
\begin{enumerate}
	\item  Zoradenie množiny bodov $P_s$ podľa súradnice x
	\item if $p_3 \in \sigma_L (p_1, p_2)$
	\item \hspace {1.5cm} n[1] = 2; n[2] = 3; n[3] = 1
	\item \hspace {1.5cm} p[1] = 3; p[2] = 1; p[3] = 2
	\item else
	\item \hspace {1.5cm} n[1] = 3; n[3] = 2; n[2] = 1
	\item \hspace {1.5cm} p[1] = 2; p[3] = 1; p[2] = 3
	\item for $p_i \in P_s, i > 3$
	\item \hspace {1.5cm} if ($y_i>y_i-1$) 
	\item \hspace {2.5cm} p[i] = i-1; n[i] = n[i-1]
	\item \hspace {1.5cm} else 
	\item \hspace {2.5cm} n[i] = i-1; p[i] = p[i-1]
	\item \hspace {1.5cm}n[p[i]] = i; p[n[i]] = i;
	\item \hspace {1.5cm}while (n[n[i]]) $\in \sigma_R (i, n[i]) $
	\item \hspace {2.5cm} p[n[n[i]]] = i; n[i] = n[n[i]];
	\item \hspace {1.5cm} while (p[p[i]]) $\in \sigma_L (i, p[i]) $
	\item \hspace {2.5cm} n[p[p[i]]] = i; p[i] = p[p[i]];
\end{enumerate}
\subsubsection{Problematické situácie}
Problematická situácia pri algoritme Sweep Line nastáva, ak sa vo vstupnej množine bodov nachádzajú duplicitné body. Tie je potrebné odstrániť a až po ich odstránení určiť veľkosť vektoru bodov vstupnej množiny, vytvoriť zoznam predchodcov,  následníkov a v cykle spustiť algoritmus.

\subsubsection {Implementácia riešenia problému}
\begin{enumerate}
\item Odstránenie duplicitných bodov po zoradení podľa osy X
\newline Cyklus $ for (unsigned int i = 0 ; i < points.size() - 1; i++)$ - prechádame celý vektor bodov
\item  Podmienka totožných súradníc 
\newline \hspace {1.5cm}   $ if ((points[i].x() != points[i+1].x( )) || (points[i].y() != points[i+1].y( ) $
\item Ulož bod, ktorý nie je duplicitný $ noDuplicitPoints.push\_back(points[i]) $
\item $noDuplicitPoints.push\_back(points[points.size()-1]$
\item $points = noDuplicitPoints$
\end{enumerate}


\subsection {Graham scan}
Grahamov prehľadávací algoritmus využíva kritérium pravotočivosti, pri ktorom posudzuje uhol  ($\omega_i$). Množina bodov je zoradená podľa súradnice y. Bod s najmenšou y súradnicou je zvolený za pivota. Z pivota vedieme rovnobežku s osou X. Následne určíme uhol od osi X k ostatným bodom množiny. Tieto uhly je potrebné zotiediť podľa veľkosti. Následne vyberieme bod  ($p_i$) pre ktorý je uhol  ($\omega_i$) maximálny. Pri pridávani bodu do konvexnej obálky musí byť splnená podmienka ľavotočivosti.

\subsubsection{Implementácia metódy}
\begin{enumerate}
	\item Zoradenie množiny bodov $P_s$ podľa súradnice y 
	\item Nájdenie pivota q, $ q = min(y_i)$ , q $\to$ Convex Hull
	\item Zoraď body podľa veľkosti uhlu  ($\omega_i$) $ \angle(p_{kolinearbyx}, x, p_i)$
	\item Vymaž bližší bod ku q $ if(\omega_i = \omega_j) $
	\item Opakuj pre všetky body j \textless  n
	\item Pridaj bod $p_j$ pre ktorý je uhol omega maximálny a je splnená podmienka ľavotočivosti  $\to$ Convex Hull
	\item \hspace {1.5cm} j = j+1
	\item Else pop S	
\end{enumerate}
\subsubsection{Problematické situácie}
Problematická situácia pri algoritme Graham Scan nastáva, ak sa vo vstupnej množine bodov nachádzajú body, ktoré zvierajú s osou X a pivotom rovnaký uhol ($\omega_i$) . Je potrebné určiť vzdialenosť takýchto bodov od pivotu a ponechať v množine bodov len bod s najväčšou vzdialenosťou od pivotu.

\subsubsection {Implementácia riešenia problému}
\begin{enumerate}
\item Odstránenie bližších bodov k pivotu pri totožnom uhle ($\omega_i$)
\newline Cyklus $ for (unsigned  int i = 0 ; i < chGS.size() - 2; i++) $  prechádame celú konvexnú obálku
\item  Podmienka totožného uhlu ($\omega_i$) 
\newline \hspace {1.5cm}   $ if ( getPointLineDistance ( chGS[i],  chGS[i+1],  chGS[i+2])==-1) $
\item Odstráň bližší bod $  chGS.erase( chGS.begin()+(i+1)) $
\item $ i = i-1 $
\end{enumerate}

Odstránenie dupliciných bodov
\begin{enumerate}
\item Cyklus $ for (int h = 0 ; h < chGS.size() - 1; h++)$ - prechádame všetky body konvexnej obálky
\item Podmienka totožných súradníc 
\newline  $ if ((chGS[h].x() == chGS[h+1].x( )) \&\& (chGS[h].y() == chGS[h+1].y( ) $
\item \hspace {1.5cm} Odstráň  bod s totožnými súradnicami $ chGS.remove(h) $
\item \hspace {1.5cm} $h--$
\end{enumerate}


\clearpage 
%------------------------------------------------------------------------
\section{Strikne konvexné obálky}
Striktne konvexná obálka musí spĺňať podmienku : neobsahovať 3 nasledujúce body na jednej priamke. Pre ošetrenie tohto prípadu sme implementovali funkciu, ktorá takéto body odstránila, taktiež sme vymazali duplicitné body. 

\section{Vstupné dáta - generovanie bodov}
Vstupnými dátami je množina bodov. Táto množina môže byť ručne naklikaná v Canvase alebo automaticky generovaná.

Generovanie je možné previeť do rastru, kruhového tvaru alebo náhodného usporiadania množiny bodov. Oblasť generovania je určená z aktuálnej veľkosti okna aplikácie. Od každej hrany okna je pevne nastavený odstup. Samotné náhodné generovanie je realizované pomocou $std:: random\_device$ s pouižitím generátoru $std::mt19937$.

Raster je generovaný s pevným krokom pre šírku a dĺžku okna, ktorý sa počíta na základe požadovaného počtu bodov. Náhodné generovanie sa prevádza pomocou príkazu $std::uniform\_int\_distibution$, ktorý generuje celé čísla v určitom rozsahu. Pre možnosť circle -- kruhového generovania bodov sú body generované polárnymi súradnicami s použitím rovnakého náhodného generátoru ako v predchádzajúcom prípade.

\subsection{Množina bodov vytvorená ručne}
Táto množina vznikne ručným naklikaním bodov priamo v Canvase.

\begin{center}
   \includegraphics[width=10cm]{./img/points_manual.png}
   \captionof{figure}{Manuálne zadané body a vygenerová konvexná obálka}
\end{center}


\subsection{Automaticky generovaná množina bodov}
Množina vznikne automatickým vygenerovaním po zadaní požadovaného počtu generovaných bodov. Rozsah generovaných bodov je  n $\in$ $\langle$ 1000, 1000 000 $\rangle$ . Tvary generovaných bodov sú raster, kruh, náhodne generované body.

\begin{center}
   \includegraphics[width=10cm]{./img/points_generate_grid_1000.png}
   \captionof{figure}{Automaticky generovaných 1000 bodov v tvare rastru.}
\end{center}

\begin{center}
   \includegraphics[width=10cm]{./img/points_generate_circle_1000.png}
   \captionof{figure}{Automaticky generovaných 1000 bodov v tvare kruhu.}
\end{center}

\begin{center}
   \includegraphics[width=10cm]{./img/points_generate_random_1000.png}
   \captionof{figure}{Automaticky generovaných 1000 bodov v náhodnom tvare.}
\end{center}

%------------------------------------------------------------------------
\clearpage 
\section{Ukážka vytvorenej aplikácie}

Grafické rozhranie aplikácie, vo svojej pravej časti, obsahuje možnosť generovania počtu bodov v užívateľom zvolenom tvare, vytvorenie konvexnej obálky pomocou zvoleného algoritmu. Pod tlačítkom \textit{Create convex hull} sa nachádza label v ktorom sa zobrazí doba trvania vygenerovania konvexnej obálky. Ďalej grafické rozhranie obsahuje tlačítko  \textit{Solve U2}. Po jeho stlačení sa zvoleným algoritmom prevedie generovanie konvexnej obálky automaticky. Toto generovanie prebieha automaticky 10x pre každý typ rozmiestnenia bodov ( raster, kruh, náhodné rozmiestnenie bodov) a počet bodov n $\in$ $\langle$ 1000, 5000, 10 000, 25 000, 50 000, 75 000, 100 000, 250 000, 500 000, 750 000, 1000 000 $\rangle$ . Pre každé generovanie konvexnej obálky je počítaná doba behu, ktorá sa spolu s počtom a typom generovaných bodov, typom algoritmu a poradím opakovania je ukladaná do textového súboru. Tento textový súbor je následne spracovaný v programe R Studio. Výsledné vytvorené grafy s porovnaním časovej náročnosti pri n počte vstupných bodov sú uvedené v kapitole \textit{Grafy a tabuľky}. 

\begin{center}
   \includegraphics[width=10cm]{./img/ukazka_aplikacia1.png}
   \captionof{figure}{Ukážka grafického rozhrania aplikácie}
\end{center}


%-------------------------------------------------------------------------
\clearpage 
\section{Vykreslenie konvexnej obálky}
Po automatickom vygenerovaní bodov, prípadne ručnom naklikaní v Canvase , voľbe algoritmu konštrukcie konvexnej obálky a stlačení tlačidla \textit{Create convex hull} dostane užívateľ vygenerovanú konvexnú obálku. Pri genererovaní väčšieho počtu bodov ako $ n = 5000 $ sa v grafickom rozhraní vykreslí len prvých 5000 bodov, z dôvodu rýchlejšieho a jednoduchšieho vykreslovania. Konvexná obálka sa vygeneruje v plnom rozsahu.
 
\begin{center}
   \includegraphics[width=10cm]{./img/CH_points_manual.png}
   \captionof{figure}{Manuálne zadané body a vygenerová konvexná obálka}
\end{center}

\begin{center}
   \includegraphics[width=10cm]{./img/CH_points_generate_grid_1000.png}
   \captionof{figure}{Automaticky generovaných 1000 bodov v tvare rastru, konvexná obálka bodov.}
\end{center}

\begin{center}
   \includegraphics[width=10cm]{./img/CH_points_generate_circle_1000.png}
   \captionof{figure}{Automaticky generovaných 1000 bodov v tvare kruhu, konvexná obálka bodov.}
\end{center}

\begin{center}
   \includegraphics[width=10cm]{./img/CH_points_generate_random_1000.png}
   \captionof{figure}{Automaticky generovaných 1000 bodov v náhodnom tvare, konvexná obálka bodov.}
\end{center}
\clearpage
\begin{center}
   \includegraphics[width=10cm]{./img/milion_points.png}
   \captionof{figure}{Automaticky generovaných 1 000 000, konvexná obálka Sweep Line.}
\end{center}

%-------------------------------------------------------------------------
\clearpage 
\section{Grafy - doby behu algoritmov}
Súčasťou úlohy je porovnanie doby behu jednotlivých algoritmov pre testované množiny bodov generované v tvare kruhu, rastru a náhodne. Prezentácia výsledkov je pomocou grafov vytvorených v programe R Studio. Testovanie bolo vykonané 10x pre každý počet bodov z intervalu a tvar generovanej množiny bodov. Vykonali sme ho v režime Relase.

\begin{center}
   \includegraphics[width=10cm]{./img/plot_circle_generating.png}
   \captionof{figure}{Doba behu jednotlivých algoritmov pre množinu bodov v tvare kruhu.}
\end{center}

\begin{center}
   \includegraphics[width=10cm]{./img/plot_raster_generating.png}
   \captionof{figure}{Doba behu jednotlivých algoritmov pre množinu bodov v tvare rastru.}
\end{center}

\begin{center}
   \includegraphics[width=10cm]{./img/plot_random_generating.png}
   \captionof{figure}{Doba behu jednotlivých algoritmov pre množinu bodov v náhodnom tvare.}
\end{center}

\begin{center}
   \includegraphics[width=10cm]{./img/plot_jarvis_scan.png}
   \captionof{figure}{Doba behu algoritmu Jarvis Scan pre množiny bodov vo všetkých generovaných tvaroch.}
\end{center}

\begin{center}
   \includegraphics[width=10cm]{./img/plot_quick_hull.png}
   \captionof{figure}{Doba behu algoritmu Quick Hull pre množiny bodov vo všetkých generovaných tvaroch.}
\end{center}

\begin{center}
   \includegraphics[width=10cm]{./img/plot_sweep_line.png}
   \captionof{figure}{Doba behu algoritmu Sweep Linel pre množiny bodov vo všetkých generovaných tvaroch.}
\end{center}

\begin{center}
   \includegraphics[width=10cm]{./img/plot_graham_scan.png}
   \captionof{figure}{Doba behu algoritmu Graham Scan pre množiny bodov vo všetkých generovaných tvaroch.}
\end{center}

\section{Tabulky pro jednotlivé metody}
Tabuľky s presnou dobou behu jednotlivých algoritmov pre množiny bodov. Tabuľky sú rozdelené po jednotlivých algoritmoch a každá obsahuje priemerný čas generovania konvexnej obálky v jednotkách milisekúnd určený z desiatich pokusov a rozptyl. Rozptyl bol určený ako prostý rozdiel najdlhšieho a najkratšieho času výpočtu obálky z desiatich pokusov.

\begin{table}[h!]
\centering
\caption{Jarvis Scan data z výpočtu}
\begin{tabular}{|l|l|l|l|}
\hline
\multicolumn{4}{|c|}{\textbf{Jarvis Scan}}                       \\ \hline
points  & method & avg elapsed time {[}ms{]} & variance {[}ms{]} \\ \hline
1000    & raster & 0.1                       & 1                 \\ \hline
5000    & raster & 4                         & 0                 \\ \hline
10000   & raster & 7                         & 0                 \\ \hline
25000   & raster & 21.1                      & 1                 \\ \hline
50000   & raster & 43.9                      & 3                 \\ \hline
75000   & raster & 67.6                      & 6                 \\ \hline
100000  & raster & 89.2                      & 3                 \\ \hline
250000  & raster & 196.3                     & 3                 \\ \hline
500000  & raster & 469.5                     & 6                 \\ \hline
750000  & raster & 722.4                     & 4                 \\ \hline
1000000 & raster & 882                       & 55                \\ \hline
1000    & random & 1.3                       & 1                 \\ \hline
5000    & random & 10.4                      & 1                 \\ \hline
10000   & random & 20.6                      & 2                 \\ \hline
25000   & random & 50.8                      & 31                \\ \hline
50000   & random & 89.9                      & 10                \\ \hline
75000   & random & 116.8                     & 14                \\ \hline
100000  & random & 163.7                     & 26                \\ \hline
250000  & random & 313.5                     & 42                \\ \hline
500000  & random & 641.3                     & 78                \\ \hline
750000  & random & 981.1                     & 108               \\ \hline
1000000 & random & 1138.4                    & 199               \\ \hline
1000    & circle & 5.5                       & 1                 \\ \hline
5000    & circle & 49.9                      & 5                 \\ \hline
10000   & circle & 112.2                     & 20                \\ \hline
25000   & circle & 370.3                     & 56                \\ \hline
50000   & circle & 821.7                     & 88                \\ \hline
75000   & circle & 1195.5                    & 32                \\ \hline
100000  & circle & 1647.4                    & 14                \\ \hline
250000  & circle & 4167.5                    & 86                \\ \hline
500000  & circle & 8373.2                    & 452               \\ \hline
750000  & circle & 12913.8                   & 833               \\ \hline
1000000 & circle & 17651.2                   & 1077              \\ \hline
\end{tabular}
\end{table}

\begin{table}[h!]
\centering
\caption{Quick Hull data z výpočtu}
\begin{tabular}{|l|l|l|l|}
\hline
\multicolumn{4}{|c|}{\textbf{Quick Hull}}                        \\ \hline
points  & method & avg elapsed time {[}ms{]} & variance {[}ms{]} \\ \hline
1000    & raster & 0                         & 0                 \\ \hline
5000    & raster & 3                         & 0                 \\ \hline
10000   & raster & 5.2                       & 2                 \\ \hline
25000   & raster & 15.3                      & 4                 \\ \hline
50000   & raster & 31.3                      & 7                 \\ \hline
75000   & raster & 53.8                      & 25                \\ \hline
100000  & raster & 65.8                      & 15                \\ \hline
250000  & raster & 163                       & 43                \\ \hline
500000  & raster & 381.6                     & 199               \\ \hline
750000  & raster & 647.3                     & 138               \\ \hline
1000000 & raster & 787.4                     & 323               \\ \hline
1000    & random & 0.2                       & 1                 \\ \hline
5000    & random & 4.3                       & 1                 \\ \hline
10000   & random & 8.9                       & 2                 \\ \hline
25000   & random & 19.6                      & 5                 \\ \hline
50000   & random & 46                        & 19                \\ \hline
75000   & random & 62.4                      & 14                \\ \hline
100000  & random & 83.5                      & 16                \\ \hline
250000  & random & 196.5                     & 45                \\ \hline
500000  & random & 410.2                     & 101               \\ \hline
750000  & random & 691.6                     & 202               \\ \hline
1000000 & random & 838.5                     & 252               \\ \hline
1000    & circle & 1.3                       & 1                 \\ \hline
5000    & circle & 15.1                      & 1                 \\ \hline
10000   & circle & 37.4                      & 3                 \\ \hline
25000   & circle & 111.4                     & 21                \\ \hline
50000   & circle & 249.2                     & 60                \\ \hline
75000   & circle & 380.6                     & 59                \\ \hline
100000  & circle & 501.8                     & 85                \\ \hline
250000  & circle & 1242.6                    & 61                \\ \hline
500000  & circle & 3192.4                    & 2496              \\ \hline
750000  & circle & 4293.5                    & 462               \\ \hline
1000000 & circle & 5331.2                    & 618               \\ \hline
\end{tabular}
\end{table}


\begin{table}[h!]
\centering
\caption{Sweep Line data z výpočtu}
\begin{tabular}{|l|l|l|l|}
\hline
\multicolumn{4}{|c|}{\textbf{Sweep Line}}                        \\ \hline
points  & method & avg elapsed time {[}ms{]} & variance {[}ms{]} \\ \hline
1000    & raster & 0                         & 0                 \\ \hline
5000    & raster & 2.8                       & 1                 \\ \hline
10000   & raster & 5.1                       & 1                 \\ \hline
25000   & raster & 13.4                      & 4                 \\ \hline
50000   & raster & 30.7                      & 8                 \\ \hline
75000   & raster & 48.6                      & 17                \\ \hline
100000  & raster & 60.3                      & 17                \\ \hline
250000  & raster & 163.1                     & 41                \\ \hline
500000  & raster & 332.3                     & 87                \\ \hline
750000  & raster & 547.1                     & 201               \\ \hline
1000000 & raster & 739.9                     & 243               \\ \hline
1000    & random & 0                         & 0                 \\ \hline
5000    & random & 2.1                       & 1                 \\ \hline
10000   & random & 4.7                       & 2                 \\ \hline
25000   & random & 12.7                      & 4                 \\ \hline
50000   & random & 28                        & 11                \\ \hline
75000   & random & 41.4                      & 19                \\ \hline
100000  & random & 63.3                      & 18                \\ \hline
250000  & random & 148.7                     & 59                \\ \hline
500000  & random & 290.7                     & 172               \\ \hline
750000  & random & 398.7                     & 248               \\ \hline
1000000 & random & 501.1                     & 414               \\ \hline
1000    & circle & 0                         & 0                 \\ \hline
5000    & circle & 1.8                       & 1                 \\ \hline
10000   & circle & 3.8                       & 3                 \\ \hline
25000   & circle & 9.1                       & 7                 \\ \hline
50000   & circle & 15.9                      & 18                \\ \hline
75000   & circle & 18.1                      & 30                \\ \hline
100000  & circle & 24.3                      & 63                \\ \hline
250000  & circle & 30.3                      & 131               \\ \hline
500000  & circle & 44.8                      & 274               \\ \hline
750000  & circle & 63.9                      & 445               \\ \hline
1000000 & circle & 83.6                      & 649               \\ \hline
\end{tabular}
\end{table}

\begin{table}[h!]
\centering
\caption{Graham Scan data z výpočtu}
\begin{tabular}{|l|l|l|l|}
\hline
\multicolumn{4}{|c|}{\textbf{Graham Scan}}                                \\ \hline
points  & method & avg elapsed time {[}ms{]} & variance {[}ms{]} \\ \hline
1000    & raster & 4.4                       & 2                 \\ \hline
5000    & raster & 21.2                      & 1                 \\ \hline
10000   & raster & 45.5                      & 2                 \\ \hline
25000   & raster & 128.9                     & 5                 \\ \hline
50000   & raster & 275.3                     & 47                \\ \hline
75000   & raster & 431.3                     & 16                \\ \hline
100000  & raster & 623.9                     & 108               \\ \hline
250000  & raster & 1575.6                    & 104               \\ \hline
500000  & raster & 3472.2                    & 238               \\ \hline
750000  & raster & 5160.9                    & 166               \\ \hline
1000000 & raster & 7088.7                    & 1641              \\ \hline
1000    & random & 3.5                       & 1                 \\ \hline
5000    & random & 22                        & 0                 \\ \hline
10000   & random & 47.5                      & 1                 \\ \hline
25000   & random & 132.2                     & 5                 \\ \hline
50000   & random & 277.5                     & 11                \\ \hline
75000   & random & 447.2                     & 83                \\ \hline
100000  & random & 591.1                     & 83                \\ \hline
250000  & random & 1602.9                    & 86                \\ \hline
500000  & random & 3579.8                    & 1230              \\ \hline
750000  & random & 5402.5                    & 2263              \\ \hline
1000000 & random & 7262.5                    & 946               \\ \hline
1000    & circle & 3                         & 0                 \\ \hline
5000    & circle & 21.4                      & 1                 \\ \hline
10000   & circle & 46.3                      & 1                 \\ \hline
25000   & circle & 122.7                     & 1                 \\ \hline
50000   & circle & 269.5                     & 38                \\ \hline
75000   & circle & 397.4                     & 7                 \\ \hline
100000  & circle & 551.6                     & 122               \\ \hline
250000  & circle & 1374.7                    & 38                \\ \hline
500000  & circle & 2958.7                    & 670               \\ \hline
750000  & circle & 4889                      & 2046              \\ \hline
1000000 & circle & 5823.7                    & 190               \\ \hline
\end{tabular}
\label{tab:GrahamScan}
\end{table}

%-------------------------------------------------------------------------
\clearpage
\section{Dokumentácia}
\subsection{Trieda Algorithms}
Triedu Algorithms sme použili pre deklarovanie funkcií pre výpočtové algoritmy tvorby konvexnej obálky a pre deklaráciu ich pomocných metód.

\subsubsection{Členské premenné}

\begin{enumerate}
\item[] \underline{static QPoint pivot} 
\begin{itemize}
\item bod obsahujúci súradnice pivota
\end{itemize}
\item[] \underline{QPoint kolinear X point} 
\begin{itemize}
\item bod obsahujúci súradnice pomocného bodu, kolineárneho s osou X
\end{itemize}
\end{enumerate}

\subsubsection{Metódy}

\begin{enumerate}
\item[] \underline{getAngle2Vectors}
\begin{itemize}
\item Slúži k určeniu uhlu medzi dvoma priamkami. Jej návratovou hodnotou je double
\item na vstupe má : súradnice bodov $p_1, p_2, p_3, p_4$ určujúcich prvú a druhú priamku
\item výstupom je hodnota uhlu medzi priamkami 
\end{itemize}

\item[] \underline{getPointLinePosition}
\begin{itemize}
\item Slúži na určenie polohy bodu voči priamke. Jej návratovou hodnotou je integer.
\item na vstupe má : súradnice určovaného bodu q , súradnice bodov priamky $p_1$ $p_2$
\item na výstupe hodnoty :
\item[] -1 – bod sa nachádza na priamke
\item[] 0 – bod sa nachádza vpravo od priamky
\item[] 1 – bod sa nachádza vľavo od priamky
\end{itemize}

\item[] \underline{getPointLineDistance}
\begin{itemize}
\item je pomocnou metódou pre metódu positionPointPolygonWinding. Slúži na určenie polohy bodu voči priamke. Jej návratovou hodnotou je double.
\item na vstupe má : súradnice určovaného bodu q , súradnice bodov priamky $p_1$ $p_2$
\item na výstupe hodnotu vzdialenosti určovaného bodu od priamky.
\end{itemize}

\item[] \underline{Distance}
\begin{itemize}
\item Slúži na porovnanie vzdialenosti dvoch bodov. 
\item na vstupe má : súradnice bodov  $p_1$  a $p_2$
\item na výstupe hodnotu vzdialenosti medzi dvoma bodmi.
\end{itemize}

\item[] \underline{Angle}
\begin{itemize}
\item Slúži na porovnanie veľkosti dvoch uhlov. 
\item na vstupe má : súradnice bodov $p_1$ a $p_2$
\item na výstupe väčší uhol.
\end{itemize}

\item[] \underline{jarvisScan, qHull, grahamScan, sweepLine}
\begin{itemize}
\item Metódy slúžia k výpočtu konvexnej obálky podľa zvoleného výpočetného algoritmu. Vstupným typom je QPolygon
\item na vstupe je vektror bodov {std::vector}$<${QPoint}$>${points}
\item na výstupe je polygón obsahujúci množinu bodov a konvexnú obálku.
\end{itemize}

\item[] \underline{qh}
\begin{itemize}
\item Metódy slúžia k výpočtu konvexnej obálky podľa algoritmu Quick Hull. Je to pomocná metóda. Vstupným typom je void.
\item na vstupe je index počiatočného a koncového bodu deliacej priamky start, end
\item {std::vector}$<${QPoint}$>${points} vektor bodov okolo ktorých vytvárame konvexnú obálku
\item QPolygon  convexHull ktorý obsahuje body konvexnej obálky
\item na výstupe je polygón obsahujúci konvexnú obálku.
\end{itemize}

\end{enumerate}

\subsection{Trieda Draw}
Trieda Draw slúži ku grafickému vykresleniu množiny modov a konvexnej obálky nad touto množinou.

\subsubsection{Členské premenné}
\begin{enumerate}

\item[] \underline {std::vector}$<${QPoint}$>${points}
\begin{itemize}
\item vektor bodov okolo ktorých vytvárame konvexnú obálku
\end{itemize}
\item[] \underline {QPolygon ch}
\begin{itemize}
\item polygón obsahujúci body konvexnej obálky
\end{itemize}
\end{enumerate}

\subsubsection{Metódy}
\begin{enumerate}
\item[] \underline{paintEvent}
\begin{itemize}
\item slúži k vykresleniu naklikaných a vygenerovaných bodov, vykresleniu konvexnej obálky. Návratovým typom je void.
\end{itemize}
\item[] \underline{void mousePressEvent}
\begin{itemize}
\item slúži k vykresleniu bodu  stlačením tlačidla myši, v okamihu stlačenia tlačidla na myši sa uložia súradnice bodu do vektoru points. Návratovým typom je void.
\end{itemize}
\item[] \underline{void clearCH}
\begin{itemize}
\item slúži k vymazaniu konvexnej obálky. Návratovým typom je void.
\end{itemize}
\item[] \underline{void clearPoints}
\begin{itemize}
\item slúži k vymazaniu množiny bodov. Návratovým typom je void.
\end{itemize}
\item[] \underline {std::vector}$<${QPoint}$>${getPoints}
\begin{itemize}
\item vektor, ktorý slúži k vráteniu množiny bodov points.
\end{itemize}
\item[] \underline {setCH}
\begin{itemize}
\item slúži na prevedenie konvexnej obálky do vykresľovacieho okna.
\end{itemize}
\item[] \underline {generatePoints}
\begin{itemize}
\item slúži ku generovaniu množiny bodov. Na vstupe je zadaná metóda, počet bodov, šírka a výška.
\item na výstupe je vygenerovaná množina bodov podľa užívateľského zadania.
\end{itemize}
\item[] \underline {std::vector}$<${QPoint}$>${generatePointsU2}
\begin{itemize}
\item slúži ku generovaniu množiny bodov. Na vstupe je zadaná metóda, počet bodov, šírka a výška.
\item na výstupe je vygenerovaná množina bodov podľa užívateľského zadania. Generovanie konvexnej obálky prebehne automaticky 10x pre všetky typy tvaru generovanej množiny bodov a počty generovaných bodov v intervale od 1 000 do 1 000 000.
\end{itemize}
\end{enumerate}

\subsection{Tridy SortByX, SortByY}
Sú to triedy, ktoré obsahujú zoraďovacie kritériá. Pomocou týchto funkcií zoradíme súbor bodov podľa X alebo podľa Y súradnice.

\subsection{Trieda Widget}
Tieda Widget obashuje metódy ktoré sú odkazom na sloty umožňujúce vykonávať príkazy z grafického rozhrania aplikácie. Nemajú žiadne vstupné hodnoty, návratovým typom je void.

\subsubsection{Metódy}
\begin{enumerate}
\item[] \underline{on\_pushButton\_createCH\_clicked}
\begin{itemize}
\item tlačidlo \textbf{Create convex hull} po kliknutí naň sa vygeneruje konvexná obálka množiny bodov
\end{itemize}

\item[] \underline{on\_pushButton\_clearPoints\_clicked}
\begin{itemize}
\item tlačidlo \textbf{Clear points}  po kliknutí naň sa vymaže množina bodov
\end{itemize}

\item[] \underline{on\_pushButton\_clearCH\_clicked}
\begin{itemize}
\item tlačidlo \textbf{Clear convex hull}  po kliknutí naň sa vymaže konvexná obálka
\end{itemize}

\item[] \underline{on\_pushButton\_generatePoints\_clicked}
\begin{itemize}
\item tlačidlo \textbf{Generate points}  po kliknutí naň sa vygenerujú body v zvolenom tvare a počte
\end{itemize}

\item[] \underline{on\_pushButton\_solveU2\_clicked}
\begin{itemize}
\item tlačidlo \textbf{Solve U2}  po kliknutí naň sa vykoná automatické generovanie konvexnej obálky 10x pre každý typ rozmiestnenia bodov ( raster, kruh, náhodné rozmiestnenie bodov) a počet bodov n $\in$ $\langle$ 1000, 5000, 10 000, 25 000, 50 000, 75 000, 100 000, 250 000, 500 000, 750 000, 1000 000 $\rangle$ . Pre každé generovanie konvexnej obálky je počítaná doba behu, ktorá sa spolu s počtom a typom generovaných bodov, typom algoritmu a poradím opakovania je ukladaná do textového súboru
\end{itemize}

\end{enumerate}

%-------------------------------------------------------------------------
\clearpage
\section{Záver}
Výsledkom úlohy je funkčná aplikácia a grafická prezentácia doby trvania jednotlivých algoritmov pre rôzne množiny bodov. Po vypracovaní úlohy sme došli k nasledujúcemu záveru. Najvhodnejší algoritmus pre generovanie konvexných obálok je Sweep Line. Táto metóda dosiahla najlepšie výsledky vo všetkých testovacích prípadoch. Obzvlásť výrazný časový rozdie oproti ostatným algoritmoml bol pri zväčšujúcej sa množine bodov usporiadanej v kruhovom tvare. Algoritmy Graham Scan a Jarvis Scan sú o poznanie pomalšie, hlavne pri rastri a náhodne generovanej množine bodov. Algoritmus Quick Hull dosahuje pre rastrovú a náhodnú množinu bodov takmer totožnú rýchlosť ako algoritmus Sweep Line, pri kruhovom rozložení bodov je pomalší, obdobne rýchly ako Graham Scan.

V úlohe sme sa neimplementovali generovanie množiny bodov v tvare  elipsy a star - shaped rozloženia. Bolo by zaujímavé porovnať doby behov algoritmov aj pre takéto rozloženia množín bodov.

\newpage
%-------------------------------------------------------------------------

%Zobrazeni seznamu obrazku
%\cleardoublepage
%\addcontentsline{toc}{chapter}{\listfigurename}
\listoffigures

%-------------------------------------------------------------------------

\listoftables

%-------------------------------------------------------------------------
\nocite{*}
%\printbibliography
\bibliography{literatura}{}
\bibliographystyle{plain}
%-------------------------------------------------------------------------
    
\end{document}             % Konec dokumentu.
